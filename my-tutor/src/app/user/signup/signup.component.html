<app-loader *ngIf="isLoading"/>

<div class="container" *ngIf="!isLoading">
    <form class="form" #form="ngForm" (ngSubmit)="register(form)">
        <h2>Sign Up</h2>
        <div class="input-fields">
            <input type="text" placeholder="Email" name="email" #emailInput="ngModel" appEmailValidator ngModel required />
            <ng-container *ngIf="emailInput.touched">
                <p *ngIf="emailInput.hasError('required')" class="error">Email is required!</p>
                <p *ngIf="emailInput.hasError('emailValidator')" class="error">Invalid Email!</p>
            </ng-container>

            <input type="text" placeholder="Username" name="username" #usernameInput="ngModel" ngModel required minlength="2"/>
            <ng-container *ngIf="usernameInput.touched">
                <p *ngIf="usernameInput.errors?.['required']" class="error">Username is required!</p>
                <p *ngIf="usernameInput.errors?.['minlength']" class="error">Username must be at least {{usernameInput.errors?.['minlength']['requiredLength']}} characters long</p>
            </ng-container>

        
            <div ngModelGroup="passwords" #passwords="ngModelGroup" class="passwords-group" appPasswordValidator>
              
                <input type="password" placeholder="Password" name="password" id="password" #passwordInput="ngModel" ngModel required minlength="4" />
                <ng-container *ngIf="passwordInput.touched">
                    <p *ngIf="passwordInput.errors?.['required']" class="error">Password is required!</p>
                    <p *ngIf="passwordInput.errors?.['minlength']" class="error">Password must be at least {{passwordInput.errors?.['minlength']['requiredLength']}} characters long!</p>
                </ng-container>
               
                
                <input type="password" placeholder="Repeat Password" name="rePassword" id="rePassword" #rePasswordInput="ngModel" ngModel required />
                <ng-container *ngIf="rePasswordInput.touched">
                    <p *ngIf="rePasswordInput.errors?.['required']" class="error">Repeat Password required!</p>
                    <p *ngIf="rePasswordInput.errors?.['passwordMatchError']" class="error">Passwords don\'t match!</p>
                </ng-container>
             

            </div>
        
        </div>
        <div class="checkbox">
            <input type="checkbox">
            <span>Show Password</span>

        </div>
        <button [disabled]="form.invalid">SIGN UP</button>
    </form>
    <div class="links">
        <p>Already have an account?</p>
        <a routerLink="/login">Login</a>
    </div>
</div>

